# Generated by https://smithery.ai. See: https://smithery.ai/docs/config#dockerfile
# Use the official Python image from the Docker Hub
FROM python:3.10-slim

# Set the working directory
WORKDIR /app

# Copy the requirements and source code into the container
COPY pyproject.toml /app/
COPY src /app/src

# Install dependencies
# Upgrade pip first to ensure we have the latest package manager
RUN pip install --no-cache-dir --upgrade pip \
    && pip install --no-cache-dir hatchling

# Install the project in the container
# Installing in editable mode allows the package to be imported correctly
RUN pip install --no-cache-dir /app

# Define environment variables
ENV POLYMARKET_API_KEY="<insert api key>"

# Run the server
CMD ["python", "src/polymarket_mcp/server.py"]


